<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WebNux Login</title>
</head>
<body>
  <div class="login-container">
    
    <h1>Welcome to WebNux</h1>
    <p class="subtitle">Create your account to get started</p>
    
    <form id="userForm">
      <label for="avatar" class="avatar-upload" id="uploadPreview">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="white"/>
        </svg>
      </label>
      <input type="file" id="avatar" accept="image/*" required>
      
      <div class="sections-container">
        <div class="section">
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" placeholder="Enter username" required autofocus>
          </div>
        </div>
        
        <div class="section">
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" placeholder="Enter password" required>
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <label for="hint">Password hint (optional)</label>
        <input type="text" id="hint" placeholder="Enter a hint to remember your password">
      </div>
      
      <div class="security-questions">
        <p class="security-title">Security Questions</p>
        
        <div class="form-group">
          <label for="q1">What is your pet's name?</label>
          <input type="text" id="q1" placeholder="Answer" required>
        </div>
        
        <div class="form-group">
          <label for="q2">What is your mother's maiden name?</label>
          <input type="text" id="q2" placeholder="Answer" required>
        </div>
        
        <div class="form-group">
          <label for="q3">What was your first school?</label>
          <input type="text" id="q3" placeholder="Answer" required>
        </div>
      </div>
      
      <button type="submit" id="submitBtn">Create Account</button>
    </form>
    
    <div id="output"></div>
  </div>
  
  <div class="time-info" id="time">12:00</div>
  <div class="date-info" id="date">Saturday, May 17</div>
  
  <button class="power-btn">
    <svg class="power-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M13 3H11V13H13V3ZM17.83 5.17L16.41 6.59C17.99 7.86 19 9.81 19 12C19 15.87 15.87 19 12 19C8.13 19 5 15.87 5 12C5 9.81 6.01 7.86 7.58 6.58L6.17 5.17C4.23 6.82 3 9.26 3 12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12C21 9.26 19.77 6.82 17.83 5.17Z" fill="white"/>
    </svg>
  </button>

  <script>
    // Update time and date
    function updateClock() {
      const now = new Date();
      let hours = now.getHours();
      const minutes = now.getMinutes().toString().padStart(2, '0');
      const ampm = hours >= 12 ? 'PM' : 'AM';
      
      hours = hours % 12;
      hours = hours ? hours : 12; // Convert 0 to 12
      
      document.getElementById('time').textContent = `${hours}:${minutes} ${ampm}`;
      
      const options = { weekday: 'long', month: 'long', day: 'numeric' };
      document.getElementById('date').textContent = now.toLocaleDateString('en-US', options);
    }
    
    updateClock();
    setInterval(updateClock, 60000);
    
    // Avatar upload preview
    const avatarInput = document.getElementById('avatar');
    const uploadPreview = document.getElementById('uploadPreview');

    avatarInput.addEventListener('change', function () {
      const file = avatarInput.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          uploadPreview.innerHTML = `<img src="${e.target.result}" alt="Avatar">`;
        };
        reader.readAsDataURL(file);
      }
    });

    // Form submission
    const form = document.getElementById('userForm');
    const output = document.getElementById('output');
    const submitBtn = document.getElementById('submitBtn');

    form.addEventListener('submit', function(event) {
      event.preventDefault();
      
      const originalBtnText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<div class="loading-spinner"></div> Creating Account...';
      submitBtn.disabled = true;
      
      setTimeout(() => {
        const avatar = document.getElementById('avatar').files[0];
        const username = document.getElementById('username').value;
        
        if (!avatar) {
          output.innerHTML = `<p style="color: #ff6b6b; margin-top: 15px;">Please upload a profile picture</p>`;
          submitBtn.innerHTML = originalBtnText;
          submitBtn.disabled = false;
          return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
          const userData = {
            name: username,
            password: document.getElementById('password').value,
            hint: document.getElementById('hint').value,
            security: {
              q1: document.getElementById('q1').value,
              q2: document.getElementById('q2').value,
              q3: document.getElementById('q3').value,
            },
            avatarDataURL: e.target.result
          };

          // Hide form and show success message
          form.style.display = 'none';
          output.innerHTML = `
            <div class="success-message">
              <img src="${userData.avatarDataURL}" alt="User Avatar">
              <h2>Account Created!</h2>
              <p>Welcome, ${userData.name}! Your account has been successfully created.</p>
              <p style="margin-top: 15px; font-size: 14px; opacity: 0.8;">You'll be redirected to the login screen shortly...</p>
            </div>
          `;
          
          console.log('User data:', userData);
        };

        reader.readAsDataURL(avatar);
      }, 1500);
    });
  </script>
</body>
</html>